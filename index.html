<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®šæ—¶æé†’ Â· é¡¹ç›®ç®¡ç†å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: #0d1117;
            color: #e6edf3;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 12px;
            color: #58a6ff;
        }
        
        .card {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #8b949e;
            font-size: 14px;
        }
        
        input {
            width: 100%;
            padding: 12px;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #e6edf3;
            font-size: 16px;
        }
        
        input:focus {
            outline: none;
            border-color: #58a6ff;
        }
        
        button {
            background: #238636;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-right: 12px;
        }
        
        button:hover {
            background: #2ea043;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid #30363d;
            color: #e6edf3;
        }
        
        .btn-outline:hover {
            border-color: #58a6ff;
            color: #58a6ff;
            background: rgba(88, 166, 255, 0.1);
        }
        
        .reminder-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }
        
        .reminder-item {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 20px;
            position: relative;
        }
        
        .reminder-item.due {
            border-left: 4px solid #f85149;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-warning {
            background: rgba(248, 81, 73, 0.2);
            color: #f85149;
        }
        
        .badge-success {
            background: rgba(63, 185, 80, 0.2);
            color: #7ee787;
        }
        
        .token-section {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .status {
            margin-top: 16px;
            padding: 12px;
            background: #0d1117;
            border-radius: 8px;
            border-left: 4px solid #f09b43;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #1f6feb;
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            animation: slideIn 0.3s;
            z-index: 9999;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>â° å®šæ—¶æé†’ Â· é¡¹ç›®ç®¡ç†å™¨</h1>
            <p style="color: #8b949e;">åœ¨æ­¤æ·»åŠ /ç¼–è¾‘æé†’ â†’ è‡ªåŠ¨åŒæ­¥åˆ°GitHub â†’ Actionsæ¯3åˆ†é’Ÿæ£€æŸ¥ â†’ é£æœºç¾¤ç»„æ”¶åˆ°é€šçŸ¥</p>
            <p style="color: #7ee787; margin-top: 12px;">âœ… é£æœºTokenå·²å†…ç½®ï¼Œæ— éœ€é…ç½®</p>
        </div>
        
        <!-- GitHub Tokené…ç½®åŒº -->
        <div class="card">
            <h2 style="margin-bottom: 20px;">ğŸ”‘ GitHub è¿æ¥è®¾ç½®</h2>
            <div class="token-section">
                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 16px; align-items: center;">
                    <div style="color: #8b949e;">ç”¨æˆ·å</div>
                    <div>
                        <input type="text" id="githubUsername" value="xiaowei1110000-cmyk" placeholder="GitHubç”¨æˆ·å">
                    </div>
                    
                    <div style="color: #8b949e;">ä»“åº“å</div>
                    <div>
                        <input type="text" id="githubRepo" value="telegram-reminder" placeholder="ä»“åº“åç§°">
                    </div>
                    
                    <div style="color: #8b949e;">Token</div>
                    <div>
                        <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                        <p style="color: #f09b43; font-size: 12px; margin-top: 8px;">
                            ğŸ”” éœ€è¦repoæƒé™ï¼Œ<a href="https://github.com/settings/tokens" target="_blank" style="color: #58a6ff;">ç‚¹æ­¤ç”Ÿæˆ</a>
                        </p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button onclick="saveConfig()">
                        <span>ğŸ’¾</span> ä¿å­˜Token
                    </button>
                    <button class="btn-outline" onclick="loadFromGitHub()">
                        <span>ğŸ“¥</span> ä»GitHubåŠ è½½
                    </button>
                    <button class="btn-outline" onclick="syncToGitHub()">
                        <span>ğŸ“¤</span> ä¿å­˜åˆ°GitHub
                    </button>
                </div>
                
                <div id="syncStatus" style="margin-top: 16px; padding: 12px; background: #0d1117; border-radius: 8px;">
                    âšª çŠ¶æ€: æœªè¿æ¥
                </div>
            </div>
        </div>
        
        <!-- æ·»åŠ æé†’è¡¨å• -->
        <div class="card">
            <h2 style="margin-bottom: 20px;">â• æ·»åŠ æ–°æé†’</h2>
            
            <div class="form-group">
                <label>ğŸ“Œ æé†’åç§°</label>
                <input type="text" id="reminderName" placeholder="ä¾‹å¦‚: ç½‘å®¿IPæ›´æ–°" autocomplete="off">
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="form-group">
                    <label>ğŸ“… æœ€åæ›´æ–°æ—¥æœŸ</label>
                    <input type="date" id="lastUpdated">
                </div>
                
                <div class="form-group">
                    <label>â³ é—´éš”å¤©æ•°</label>
                    <input type="number" id="reminderDays" value="3" min="1" max="365">
                </div>
            </div>
            
            <button onclick="addReminder()" style="margin-top: 16px;">
                <span>âœ…</span> æ·»åŠ æé†’
            </button>
            <button class="btn-outline" onclick="clearForm()" style="margin-top: 16px;">
                <span>ğŸ—‘ï¸</span> æ¸…ç©º
            </button>
        </div>
        
        <!-- æé†’åˆ—è¡¨ -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>ğŸ“‹ å½“å‰æé†’åˆ—è¡¨</h2>
                <span id="dueCount" style="background: rgba(248,81,73,0.2); color: #f85149; padding: 6px 16px; border-radius: 20px; font-size: 14px;">
                    ä»Šæ—¥åˆ°æœŸ: 0
                </span>
            </div>
            
            <div id="reminderList" class="reminder-list">
                <!-- åŠ¨æ€æ¸²æŸ“ -->
            </div>
            
            <div style="margin-top: 24px;">
                <button class="btn-outline" onclick="exportBackup()">
                    <span>ğŸ“</span> å¯¼å‡ºå¤‡ä»½
                </button>
                <button class="btn-outline" onclick="createExample()" style="margin-left: 12px;">
                    <span>âœ¨</span> åˆ›å»ºç¤ºä¾‹
                </button>
            </div>
        </div>
    </div>
    
    <div id="notification"></div>

    <script>
        // ==================== å†…ç½®é£æœºToken ====================
        const TELEGRAM_BOT_TOKEN = '8239139638:AAGbCCpa6Jei3bviOv7uNjMTRAdxJ_4VXG0';
        const TELEGRAM_CHAT_ID = '-1003549797288';
        
        // ==================== å…¨å±€å˜é‡ ====================
        let reminders = [];
        let githubToken = '';
        let githubUsername = 'xiaowei1110000-cmyk';
        let githubRepo = 'telegram-reminder';
        let currentSHA = null;
        
        // ==================== åˆå§‹åŒ– ====================
        document.addEventListener('DOMContentLoaded', () => {
            // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
            const today = new Date();
            today.setHours(today.getHours() + 8);
            document.getElementById('lastUpdated').value = today.toISOString().split('T')[0];
            
            // è¯»å–æœ¬åœ°å­˜å‚¨çš„é…ç½®
            const savedUsername = localStorage.getItem('github_username');
            const savedRepo = localStorage.getItem('github_repo');
            const savedToken = localStorage.getItem('github_token');
            
            if (savedUsername) document.getElementById('githubUsername').value = savedUsername;
            if (savedRepo) document.getElementById('githubRepo').value = savedRepo;
            if (savedToken) {
                document.getElementById('githubToken').value = savedToken;
                githubToken = savedToken;
                updateSyncStatus('âœ… Tokenå·²åŠ è½½', 'success');
            }
            
            // å°è¯•ä»GitHubåŠ è½½æ•°æ®
            if (savedToken) {
                setTimeout(() => loadFromGitHub(), 500);
            } else {
                // åŠ è½½æœ¬åœ°ç¤ºä¾‹æ•°æ®
                loadLocalExamples();
            }
        });
        
        // ==================== GitHub API ====================
        async function getRemindersFile() {
            const url = `https://api.github.com/repos/${githubUsername}/${githubRepo}/contents/reminders.json`;
            
            try {
                const response = await fetch(url, {
                    headers: {
                        'Accept': 'application/vnd.github.v3+json',
                        'Authorization': `token ${githubToken}`
                    }
                });
                
                if (response.status === 404) {
                    return { exists: false };
                }
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const data = await response.json();
                
                // è§£ç Base64
                let content = '';
                try {
                    content = decodeURIComponent(escape(atob(data.content.replace(/\n/g, ''))));
                } catch(e) {
                    content = atob(data.content.replace(/\n/g, ''));
                }
                
                return {
                    exists: true,
                    content: content,
                    sha: data.sha
                };
            } catch (error) {
                console.error('è¯»å–å¤±è´¥:', error);
                throw error;
            }
        }
        
        async function updateRemindersFile(content, sha = null) {
            const url = `https://api.github.com/repos/${githubUsername}/${githubRepo}/contents/reminders.json`;
            
            // ç¼–ç å†…å®¹
            let encodedContent = '';
            try {
                encodedContent = btoa(unescape(encodeURIComponent(content)));
            } catch(e) {
                encodedContent = btoa(content);
            }
            
            try {
                const response = await fetch(url, {
                    method: 'PUT',
                    headers: {
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json',
                        'Authorization': `token ${githubToken}`
                    },
                    body: JSON.stringify({
                        message: 'ğŸ“… ç½‘é¡µç«¯æ›´æ–°æé†’æ•°æ®',
                        content: encodedContent,
                        sha: sha || undefined
                    })
                });
                
                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.message || 'æ›´æ–°å¤±è´¥');
                }
                
                const result = await response.json();
                return { success: true, sha: result.content.sha };
            } catch (error) {
                console.error('æ›´æ–°å¤±è´¥:', error);
                throw error;
            }
        }
        
        async function triggerActions() {
            const url = `https://api.github.com/repos/${githubUsername}/${githubRepo}/actions/workflows/send-reminder.yml/dispatches`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json',
                        'Authorization': `token ${githubToken}`
                    },
                    body: JSON.stringify({ ref: 'main' })
                });
                
                return response.status === 204;
            } catch (error) {
                console.error('è§¦å‘å¤±è´¥:', error);
                return false;
            }
        }
        
        // ==================== é…ç½®ç®¡ç† ====================
        function saveConfig() {
            githubUsername = document.getElementById('githubUsername').value.trim();
            githubRepo = document.getElementById('githubRepo').value.trim();
            githubToken = document.getElementById('githubToken').value.trim();
            
            if (!githubUsername || !githubRepo || !githubToken) {
                showNotification('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'error');
                return;
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°
            localStorage.setItem('github_username', githubUsername);
            localStorage.setItem('github_repo', githubRepo);
            localStorage.setItem('github_token', githubToken);
            
            updateSyncStatus('âœ… é…ç½®å·²ä¿å­˜', 'success');
            showNotification('GitHubé…ç½®ä¿å­˜æˆåŠŸ', 'success');
        }
        
        async function loadFromGitHub() {
            if (!githubToken) {
                showNotification('è¯·å…ˆé…ç½®Token', 'error');
                return;
            }
            
            try {
                updateSyncStatus('â³ æ­£åœ¨ä»GitHubåŠ è½½...', 'loading');
                
                const result = await getRemindersFile();
                
                if (result.exists) {
                    try {
                        reminders = JSON.parse(result.content);
                        currentSHA = result.sha;
                        renderReminders();
                        updateSyncStatus(`âœ… åŠ è½½æˆåŠŸï¼Œå…± ${reminders.length} ä¸ªæé†’`, 'success');
                        showNotification(`å·²ä»GitHubåŠ è½½ ${reminders.length} ä¸ªæé†’`, 'success');
                    } catch(e) {
                        showNotification('æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®', 'warning');
                        loadLocalExamples();
                    }
                } else {
                    updateSyncStatus('â„¹ï¸ GitHubæ— æ•°æ®æ–‡ä»¶', 'info');
                    loadLocalExamples();
                }
            } catch (error) {
                updateSyncStatus('âŒ åŠ è½½å¤±è´¥: ' + error.message, 'error');
                showNotification('åŠ è½½å¤±è´¥: ' + error.message, 'error');
                loadLocalExamples();
            }
        }
        
        async function syncToGitHub() {
            if (!githubToken) {
                showNotification('è¯·å…ˆé…ç½®Token', 'error');
                return;
            }
            
            try {
                updateSyncStatus('â³ æ­£åœ¨ä¿å­˜åˆ°GitHub...', 'loading');
                
                const content = JSON.stringify(reminders, null, 2);
                const result = await updateRemindersFile(content, currentSHA);
                
                if (result.success) {
                    currentSHA = result.sha;
                    updateSyncStatus('âœ… åŒæ­¥æˆåŠŸ', 'success');
                    showNotification('å·²ä¿å­˜åˆ°GitHub', 'success');
                    
                    // è§¦å‘Actions
                    const triggered = await triggerActions();
                    if (triggered) {
                        showNotification('å·²è§¦å‘GitHub Actionsï¼Œ3åˆ†é’Ÿå†…ä¼šå‘é€æé†’', 'info');
                    }
                }
            } catch (error) {
                updateSyncStatus('âŒ åŒæ­¥å¤±è´¥: ' + error.message, 'error');
                showNotification('åŒæ­¥å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // ==================== æé†’ç®¡ç† ====================
        function addReminder() {
            const name = document.getElementById('reminderName').value.trim();
            const lastUpdated = document.getElementById('lastUpdated').value;
            const days = parseInt(document.getElementById('reminderDays').value);
            
            if (!name) {
                showNotification('è¯·è¾“å…¥æé†’åç§°', 'error');
                return;
            }
            
            if (!lastUpdated) {
                showNotification('è¯·é€‰æ‹©æ—¥æœŸ', 'error');
                return;
            }
            
            // è®¡ç®—ä¸‹æ¬¡æé†’æ—¥æœŸ
            const nextDate = new Date(lastUpdated);
            nextDate.setDate(nextDate.getDate() + days);
            const nextYear = nextDate.getFullYear();
            const nextMonth = String(nextDate.getMonth() + 1).padStart(2, '0');
            const nextDay = String(nextDate.getDate()).padStart(2, '0');
            const nextReminder = `${nextYear}-${nextMonth}-${nextDay}`;
            
            reminders.push({
                id: Date.now(),
                name: name,
                lastUpdated: lastUpdated,
                nextReminder: nextReminder,
                days: days,
                createdAt: new Date().toISOString(),
                enabled: true,
                notified: false,
                lastSentTime: null
            });
            
            renderReminders();
            showNotification(`å·²æ·»åŠ : ${name}`, 'success');
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('reminderName').value = '';
            document.getElementById('reminderDays').value = '3';
            
            // è‡ªåŠ¨ä¿å­˜åˆ°GitHub
            if (githubToken) {
                setTimeout(() => syncToGitHub(), 500);
            }
        }
        
        function markAsDone(id) {
            const reminder = reminders.find(r => r.id === id);
            if (reminder) {
                const today = new Date();
                today.setHours(today.getHours() + 8);
                const todayYear = today.getFullYear();
                const todayMonth = String(today.getMonth() + 1).padStart(2, '0');
                const todayDay = String(today.getDate()).padStart(2, '0');
                const todayStr = `${todayYear}-${todayMonth}-${todayDay}`;
                
                // è®¡ç®—ä¸‹æ¬¡æé†’æ—¥æœŸ
                const nextDate = new Date(todayStr);
                nextDate.setDate(nextDate.getDate() + reminder.days);
                const nextYear = nextDate.getFullYear();
                const nextMonth = String(nextDate.getMonth() + 1).padStart(2, '0');
                const nextDay = String(nextDate.getDate()).padStart(2, '0');
                
                reminder.lastUpdated = todayStr;
                reminder.nextReminder = `${nextYear}-${nextMonth}-${nextDay}`;
                reminder.notified = false;
                
                renderReminders();
                showNotification(`âœ… ${reminder.name} å·²æ›´æ–°`, 'success');
                
                if (githubToken) {
                    setTimeout(() => syncToGitHub(), 500);
                }
            }
        }
        
        function deleteReminder(id) {
            if (confirm('ç¡®å®šåˆ é™¤è¿™ä¸ªæé†’å—ï¼Ÿ')) {
                reminders = reminders.filter(r => r.id !== id);
                renderReminders();
                showNotification('å·²åˆ é™¤', 'success');
                
                if (githubToken) {
                    setTimeout(() => syncToGitHub(), 500);
                }
            }
        }
        
        function editReminder(id) {
            const reminder = reminders.find(r => r.id === id);
            if (reminder) {
                document.getElementById('reminderName').value = reminder.name;
                document.getElementById('lastUpdated').value = reminder.lastUpdated;
                document.getElementById('reminderDays').value = reminder.days;
                
                // åˆ é™¤åŸæé†’
                reminders = reminders.filter(r => r.id !== id);
                renderReminders();
                showNotification(`æ­£åœ¨ç¼–è¾‘: ${reminder.name}`, 'info');
            }
        }
        
        function clearForm() {
            document.getElementById('reminderName').value = '';
            document.getElementById('reminderDays').value = '3';
            const today = new Date();
            today.setHours(today.getHours() + 8);
            document.getElementById('lastUpdated').value = today.toISOString().split('T')[0];
        }
        
        function exportBackup() {
            const content = JSON.stringify(reminders, null, 2);
            const blob = new Blob([content], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `reminders-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            showNotification('âœ… å·²å¯¼å‡ºå¤‡ä»½', 'success');
        }
        
        function loadLocalExamples() {
            const today = new Date();
            today.setHours(today.getHours() + 8);
            const todayStr = today.toISOString().split('T')[0];
            
            const nextDate = new Date(todayStr);
            nextDate.setDate(nextDate.getDate() + 3);
            const nextStr = nextDate.toISOString().split('T')[0];
            
            reminders = [
                {
                    id: Date.now(),
                    name: 'ğŸ“ ç½‘å®¿IPæ›´æ–°',
                    lastUpdated: todayStr,
                    nextReminder: todayStr,
                    days: 3,
                    enabled: true,
                    notified: false
                },
                {
                    id: Date.now() + 1,
                    name: 'ğŸ”’ SSLè¯ä¹¦ç»­æœŸ',
                    lastUpdated: '2026-02-10',
                    nextReminder: nextStr,
                    days: 7,
                    enabled: true,
                    notified: false
                }
            ];
            
            renderReminders();
            showNotification('å·²åŠ è½½ç¤ºä¾‹æ•°æ®', 'info');
        }
        
        function createExample() {
            loadLocalExamples();
        }
        
        // ==================== æ¸²æŸ“ ====================
        function renderReminders() {
            const container = document.getElementById('reminderList');
            const today = new Date();
            today.setHours(today.getHours() + 8);
            const todayStr = today.toISOString().split('T')[0];
            
            if (!reminders || reminders.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #8b949e;">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“­</div>
                        <p>æš‚æ— æé†’é¡¹ç›®</p>
                        <button onclick="createExample()" style="margin-top: 20px; background: #1f6feb;">
                            åˆ›å»ºç¤ºä¾‹æé†’
                        </button>
                    </div>
                `;
                document.getElementById('dueCount').innerHTML = 'ä»Šæ—¥åˆ°æœŸ: 0';
                return;
            }
            
            let html = '';
            let dueCount = 0;
            
            reminders.sort((a, b) => a.nextReminder.localeCompare(b.nextReminder));
            
            reminders.forEach(reminder => {
                const isDue = reminder.nextReminder === todayStr;
                if (isDue) dueCount++;
                
                html += `
                    <div class="reminder-item ${isDue ? 'due' : ''}">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                            <span style="font-size: 18px; font-weight: 600;">${reminder.name}</span>
                            ${isDue ? '<span class="badge badge-warning">ä»Šæ—¥åˆ°æœŸ</span>' : ''}
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px; padding: 12px; background: #0d1117; border-radius: 8px;">
                            <div>
                                <div style="color: #8b949e; font-size: 12px;">æœ€åæ›´æ–°</div>
                                <div>${reminder.lastUpdated}</div>
                            </div>
                            <div>
                                <div style="color: #8b949e; font-size: 12px;">ä¸‹æ¬¡æé†’</div>
                                <div style="${isDue ? 'color: #f85149; font-weight: 600;' : ''}">${reminder.nextReminder}</div>
                            </div>
                            <div>
                                <div style="color: #8b949e; font-size: 12px;">é—´éš”</div>
                                <div>${reminder.days}å¤©</div>
                            </div>
                            <div>
                                <div style="color: #8b949e; font-size: 12px;">çŠ¶æ€</div>
                                <div>${reminder.notified ? 'å·²é€šçŸ¥' : 'å¾…é€šçŸ¥'}</div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 8px;">
                            <button onclick="markAsDone(${reminder.id})" style="flex: 1; padding: 8px; background: #238636;">
                                âœ… è®¾ä¸ºä»Šå¤©
                            </button>
                            <button onclick="editReminder(${reminder.id})" style="flex: 1; padding: 8px; background: #1f6feb;">
                                âœï¸ ç¼–è¾‘
                            </button>
                            <button onclick="deleteReminder(${reminder.id})" style="flex: 1; padding: 8px; background: #da3633;">
                                ğŸ—‘ï¸ åˆ é™¤
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            document.getElementById('dueCount').innerHTML = `ä»Šæ—¥åˆ°æœŸ: ${dueCount}`;
        }
        
        function updateSyncStatus(message, type) {
            const statusEl = document.getElementById('syncStatus');
            let color = '#8b949e';
            let icon = 'âšª';
            
            if (type === 'success') {
                color = '#7ee787';
                icon = 'âœ…';
            } else if (type === 'error') {
                color = '#f85149';
                icon = 'âŒ';
            } else if (type === 'loading') {
                color = '#f09b43';
                icon = 'â³';
            } else if (type === 'info') {
                color = '#58a6ff';
                icon = 'â„¹ï¸';
            }
            
            statusEl.innerHTML = `${icon} çŠ¶æ€: <span style="color: ${color};">${message}</span>`;
        }
        
        function showNotification(message, type = 'info') {
            const noti = document.getElementById('notification');
            noti.innerHTML = `<div class="notification">${message}</div>`;
            
            setTimeout(() => {
                noti.innerHTML = '';
            }, 3000);
        }
    </script>
</body>
</html>
